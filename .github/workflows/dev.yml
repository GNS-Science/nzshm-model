name: Dev workflow

on:
  push:
    branches: [main, pre-release]
  pull_request:
    branches: [main, pre-release]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

jobs:
  call-test-workflow:
    uses: ./.github/workflows/python-run-tests.yml
    with:
      # Windows disabled until https://github.com/GNS-Science/nzshm-model/issues/129 is fixed
      operating-systems: "['windows-latest']"
      python-versions: "['3.9']"
      fail-fast: false
    secrets: inherit
